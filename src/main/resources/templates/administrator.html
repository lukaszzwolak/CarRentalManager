<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel administratora - Wypożyczalnia samochodowa</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
        }
        h1 {
            text-align: center;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
        }
        .car-list, .client-list, .employee-list, .reservation-list, .invoice-list {
            margin-bottom: 20px;
        }
        .item {
            border: 1px solid #ccc;
            padding: 10px;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
        }
        .item .details {
            flex: 1;
        }
        .item .actions {
            display: flex;
            align-items: center;
        }
    </style>
</head>
<body>
<div class="container">
    <h1>Panel administratora - Wypożyczalnia samochodowa</h1>

    <!-- Lista samochodów -->
    <div class="car-list">
        <h2>Lista samochodów</h2>
        <div id="car-list-container"></div>
    </div>

    <!-- Lista klientów -->
    <div class="client-list">
        <h2>Lista klientów</h2>
        <div id="client-list-container"></div>
    </div>

    <!-- Lista pracowników -->
    <div class="employee-list">
        <h2>Lista pracowników</h2>
        <div id="employee-list-container"></div>
    </div>

    <!-- Lista rezerwacji -->
    <div class="reservation-list">
        <h2>Lista rezerwacji</h2>
        <div id="reservation-list-container"></div>
    </div>

    <!-- Lista faktur -->
    <div class="invoice-list">
        <h2>Lista faktur</h2>
        <div id="invoice-list-container"></div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Funkcja do pobierania listy samochodów
        function fetchCars() {
            fetch('/cars')
                .then(response => response.json())
                .then(cars => {
                    const carListContainer = document.getElementById('car-list-container');
                    carListContainer.innerHTML = '';
                    cars.forEach(car => {
                        const carItem = createListItem(car);
                        carListContainer.appendChild(carItem);
                    });
                })
                .catch(error => console.error('Błąd podczas pobierania listy samochodów:', error));
        }

        // Funkcja do pobierania listy klientów
        function fetchClients() {
            fetch('/clients')
                .then(response => response.json())
                .then(clients => {
                    const clientListContainer = document.getElementById('client-list-container');
                    clientListContainer.innerHTML = '';
                    clients.forEach(client => {
                        const clientItem = createListItem(client);
                        clientListContainer.appendChild(clientItem);
                    });
                })
                .catch(error => console.error('Błąd podczas pobierania listy klientów:', error));
        }

        // Funkcja do pobierania listy pracowników
        function fetchEmployees() {
            fetch('/employees')
                .then(response => response.json())
                .then(employees => {
                    const employeeListContainer = document.getElementById('employee-list-container');
                    employeeListContainer.innerHTML = '';
                    employees.forEach(employee => {
                        const employeeItem = createListItem(employee);
                        employeeListContainer.appendChild(employeeItem);
                    });
                })
                .catch(error => console.error('Błąd podczas pobierania listy pracowników:', error));
        }

        // Funkcja do pobierania listy rezerwacji
        function fetchReservations() {
            fetch('/reservations')
                .then(response => response.json())
                .then(reservations => {
                    const reservationListContainer = document.getElementById('reservation-list-container');
                    reservationListContainer.innerHTML = '';
                    reservations.forEach(reservation => {
                        const reservationItem = createListItem(reservation);
                        reservationListContainer.appendChild(reservationItem);
                    });
                })
                .catch(error => console.error('Błąd podczas pobierania listy rezerwacji:', error));
        }

        // Funkcja do pobierania listy faktur
        function fetchInvoices() {
            fetch('/invoices')
                .then(response => response.json())
                .then(invoices => {
                    const invoiceListContainer = document.getElementById('invoice-list-container');
                    invoiceListContainer.innerHTML = '';
                    invoices.forEach(invoice => {
                        const invoiceItem = createListItem(invoice);
                        invoiceListContainer.appendChild(invoiceItem);
                    });
                })
                .catch(error => console.error('Błąd podczas pobierania listy faktur:', error));
        }

        // Funkcja pomocnicza do tworzenia elementu listy dla każdego obiektu
        function createListItem(item) {
            const itemContainer = document.createElement('div');
            itemContainer.classList.add('item');
            itemContainer.innerHTML = `
                    <div class="details">
                        ${getItemDetails(item)}
                    </div>
                    <div class="actions">
                        <button onclick="editItem(${item.id})">Edytuj</button>
                        <button onclick="deleteItem(${item.id})">Usuń</button>
                    </div>
                `;
            return itemContainer;
        }

        // Funkcja pomocnicza do uzyskania szczegółowych informacji o obiekcie
        function getItemDetails(item) {
            let details = '';
            for (const key in item) {
                if (item.hasOwnProperty(key) && typeof item[key] !== 'object') {
                    details += `<strong>${key}:</strong> ${item[key]}<br>`;
                }
            }
            return details;
        }

        // Funkcja do edytowania obiektu
        function editItem(id) {
            // Tu można dodać logikę edycji dla każdego typu obiektu (samochód, klient, pracownik, rezerwacja, faktura)
            alert(`Edycja obiektu o ID: ${id}`);
        }

        // Funkcja do usuwania obiektu
        function deleteItem(id) {
            // Tu można dodać logikę usuwania dla każdego typu obiektu (samochód, klient, pracownik, rezerwacja, faktura)
            alert(`Usunięcie obiektu o ID: ${id}`);
        }

        // Inicjalne pobranie danych po załadowaniu strony
        fetchCars();
        fetchClients();
        fetchEmployees();
        fetchReservations();
        fetchInvoices();
    });
</script>
</body>
</html>
